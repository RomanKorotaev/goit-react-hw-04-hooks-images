(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,o){e.exports={Overlay:"Modal_Overlay__30c9O",Modal:"Modal_Modal__1kvyf"}},15:function(e,t,o){e.exports={ImageGallery:"ImageGallery_ImageGallery__Q00hX"}},16:function(e,t,o){e.exports={ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1lSHd"}},17:function(e,t,o){e.exports={Button:"Button_Button__ZPs9J"}},19:function(e,t,o){e.exports={App:"App_App__2ixVL"}},25:function(e,t,o){},47:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),c=o(5),r=o.n(c),s=(o(25),o(9)),l=o(3),i=o(4),u=(o(12),o(13)),g=o(14),m=function(){function e(){Object(u.a)(this,e),this.searchQuery="",this.page=1}return Object(g.a)(e,[{key:"fetchImages",value:function(){return fetch("https://".concat("pixabay.com/api","/?image_type=photo&orientation=horizontal&q=").concat(this.searchQuery,"&page=").concat(this.page,"&per_page=12&key=").concat("23193680-1d95b6a7ab6e160162f942df5"," ")).then((function(e){return e.json()})).then((function(e){return e.hits})).catch((function(e){console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043e\u0442\u0432\u0435\u0442\u0435 \u043e\u0442 \u0431\u0435\u043a\u0435\u043d\u0434\u0430: ",e)}))}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"incerementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),e}(),h=o(6),b=o.n(h),d=o(20),j=o(1);var O=function(e){var t=e.onFormSubmit,o=Object(a.useState)(""),n=Object(l.a)(o,2),c=n[0],r=n[1];return Object(j.jsxs)("header",{className:b.a.Searchbar,children:[Object(j.jsx)(i.a,{position:"top-right",autoClose:2500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),r("")):i.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},className:b.a.SearchForm,children:[Object(j.jsxs)("button",{type:"submit",className:b.a.SearchFormButton,children:[Object(j.jsx)(d.a,{style:{width:25,height:25}}),Object(j.jsx)("span",{className:b.a.SearchFormButtonLabel,children:"Search"})]}),Object(j.jsx)("input",{className:b.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){r(e.currentTarget.value.toLowerCase()),console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f handleQueryChange . \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 this.state.quiryWord :",c)}})]})]})},p=o(15),f=o.n(p),v=o(16),S=o.n(v);var y=function(e){var t=e.webformatURL,o=e.largeImageURL,n=e.id,c=e.tags,r=e.onImgClickImageGalleryItem,s=Object(a.useState)(""),i=Object(l.a)(s,2),u=(i[0],i[1],Object(a.useState)(o)),g=Object(l.a)(u,2),m=g[0],h=(g[1],Object(a.useState)("")),b=Object(l.a)(h,2),d=(b[0],b[1],Object(a.useState)(n)),O=Object(l.a)(d,2),p=O[0];return O[1],Object(j.jsx)("img",{src:t,alt:c,className:S.a.ImageGalleryItemImage,onClick:function(e){console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f onImgClickImageGalleryItem. \u041a\u043b\u0438\u043d\u0443\u043b\u0438 \u043d\u0430  Img . ",e),r(m)},id:p})};var I=function(e){var t=e.imagesArray,o=e.onImgClick,n=Object(a.useCallback)((function(e){console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f onImgClickImageGallery \u0447\u0435\u0440\u0435\u0437 \u0445\u0443\u043a useCallback. \u041a\u043b\u0438\u043d\u0443\u043b\u0438 \u043d\u0430  Img   . largeImageURL = ",e),o(e)}),[]);return Object(j.jsx)("ul",{className:f.a.ImageGallery,children:t.map((function(e){var t=e.id,o=e.webformatURL,a=e.largeImageURL,c=e.tags;return Object(j.jsx)("li",{children:Object(j.jsx)(y,{webformatURL:o,largeImageURL:a,tags:c,id:t,onImgClickImageGalleryItem:n})},t)}))})},x=o(17),C=o.n(x);var _=function(e){var t=e.onLoadMoreBtn;return Object(j.jsx)("button",{className:C.a.Button,onClick:function(e){console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f handleClickBtn.  \u041a\u043b\u0438\u043d\u0443\u043b\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0435 \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451 ",e),t(),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},children:" Load more"})},k=o(11),F=o.n(k),w=document.querySelector("#modal-root");var B=function(e){var t=e.onModalClose,o=e.children;Object(a.useEffect)((function(){return window.addEventListener("keydown",n),console.log(" \u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b useEffect \u043a\u0430\u043a \u0430\u043d\u0430\u043b\u043e\u0433  componentDidMount() - 1 \u0440\u0430\u0437 "),function(){window.removeEventListener("keydown",n),console.log(" \u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b useEffect \u043a\u0430\u043a \u0430\u043d\u0430\u043b\u043e\u0433  componentWillUnmount() ")}}),[]);var n=Object(a.useCallback)((function(e){console.log("event.code = ",e.code),"Escape"===e.code&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 Escape.  \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u0445\u0443\u043a \u0434\u043b\u044f \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 useCallback"),t())}),[]),r=Object(a.useCallback)((function(e){e.target===e.currentTarget&&(console.log("\u041a\u043b\u0438\u043a\u043d\u0443\u043b\u0438 \u0432 \u0431\u0435\u043a\u0434\u0440\u043e\u043f!!! \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u0445\u0443\u043a \u0434\u043b\u044f \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 useCallback"),t())}),[]);return Object(c.createPortal)(Object(j.jsx)("div",{className:F.a.Overlay,onClick:r,children:Object(j.jsx)("div",{className:F.a.Modal,children:o})}),w)},L=o(18),P=o.n(L),G=new m;var N=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),o=t[0],n=t[1],c=Object(a.useState)(""),r=Object(l.a)(c,2),u=r[0],g=r[1],m=Object(a.useState)(""),h=Object(l.a)(m,2),b=h[0],d=h[1],p=Object(a.useState)("idel"),f=Object(l.a)(p,2),v=f[0],S=f[1],y=Object(a.useState)(!1),x=Object(l.a)(y,2),C=x[0],k=x[1];Object(a.useEffect)((function(){""!==u?(console.log("quiryWord =",u),G.resetPage(),G.query=u,S("panding"),setTimeout((function(){G.fetchImages().then((function(e){e.length>1?(n(Object(s.a)(e)),S("resolved"),i.b.success("Success!",{position:"top-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})):(console.log("\u041d\u0435\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043f\u043e \u0442\u0430\u043a\u043e\u043c\u0443 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u043c\u0443 \u0441\u043b\u043e\u0432\u0443!"),S("idel"),i.b.info("\u041d\u0435\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043f\u043e \u0442\u0430\u043a\u043e\u043c\u0443 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u043c\u0443 \u0441\u043b\u043e\u0432\u0443!",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))})).catch((function(e){return console.log("err : ",e),S("rejected"),alert("Something wrong!"),e}))}),1e3)):console.log("quiryWord === \u043f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")}),[u]);var F=function(e){g(e)},w=function(){k(!C)};return"idel"===v?Object(j.jsx)(O,{onFormSubmit:F}):"panding"===v?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O,{onFormSubmit:F}),Object(j.jsx)(P.a,{className:"Loader",type:"Circles",color:"#00BFFF",height:100,width:100})]}):"resolved"===v?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(j.jsx)(O,{onFormSubmit:F}),Object(j.jsx)(I,{imagesArray:o,onImgClick:function(e){d(e),w()}}),Object(j.jsx)(_,{onLoadMoreBtn:function(){G.incerementPage(),G.fetchImages().then((function(e){0!==e.length&&(n((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),S("resolved"),i.b.success("Success!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0417\u0410\u0413\u0420\u0423\u0417\u0418\u0422\u042c \u0415\u0429\u0401",e),S("rejected")}))}}),C&&Object(j.jsx)(B,{onModalClose:w,children:Object(j.jsx)("img",{src:b,alt:"Some img"})})]}):"rejected"===v?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O,{onFormSubmit:F}),Object(j.jsx)("p",{children:Object(j.jsx)("b",{children:"Oooops! Thomething wrong! Try againe! :( "})})]}):void 0},T=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,48)).then((function(t){var o=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;o(e),a(e),n(e),c(e),r(e)}))},E=o(19),M=o.n(E);r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(N,{className:M.a.App})}),document.getElementById("root")),T()},6:function(e,t,o){e.exports={Searchbar:"Searchbar_Searchbar__U53BZ",SearchForm:"Searchbar_SearchForm__1cANf",SearchFormButton:"Searchbar_SearchFormButton__1y0XH",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__G5QW5",SearchFormInput:"Searchbar_SearchFormInput__31wbT"}}},[[47,1,2]]]);
//# sourceMappingURL=main.92fe4265.chunk.js.map