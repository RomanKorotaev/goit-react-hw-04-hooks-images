(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__30c9O",Modal:"Modal_Modal__1kvyf"}},13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__Q00hX"}},14:function(e,t,a){e.exports={ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1lSHd"}},15:function(e,t,a){e.exports={Button:"Button_Button__ZPs9J"}},17:function(e,t,a){e.exports={App:"App_App__2ixVL"}},22:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__U53BZ",SearchForm:"Searchbar_SearchForm__1cANf",SearchFormButton:"Searchbar_SearchFormButton__1y0XH",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__G5QW5",SearchFormInput:"Searchbar_SearchFormInput__31wbT"}},44:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(7),r=a.n(c),l=(a(22),a(6)),s=a(3),i=a(11),u=a(12),m=function(){function e(){Object(i.a)(this,e),this.searchQuery="",this.page=1}return Object(u.a)(e,[{key:"fetchImages",value:function(){return fetch("https://".concat("pixabay.com/api","/?image_type=photo&orientation=horizontal&q=").concat(this.searchQuery,"&page=").concat(this.page,"&per_page=12&key=").concat("23193680-1d95b6a7ab6e160162f942df5"," ")).then((function(e){return e.json()})).then((function(e){return e.hits}))}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"incerementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),e}(),g=a(4),h=a.n(g),b=a(1);var f=function(e){var t=e.onSubmit,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],r=o[1],l=Object(n.useCallback)((function(e){r(e.currentTarget.value.toLowerCase()),console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f handleQueryChange \u0441 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435\u043c \u0445\u0443\u043a\u0430 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 useCallback. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 this.state.quiryWord :",c)}),[]);return Object(b.jsx)("header",{className:h.a.Searchbar,children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),r("")):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e!")},className:h.a.SearchForm,children:[Object(b.jsx)("button",{type:"submit",className:h.a.SearchFormButton,children:Object(b.jsx)("span",{className:h.a.SearchFormButtonLabel,children:"Search"})}),Object(b.jsx)("input",{className:h.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:l})]})})},j=a(13),d=a.n(j),O=a(14),p=a.n(O);var y=function(e){var t=e.webformatURL,a=e.largeImageURL,o=e.id,c=e.tags,r=e.onImgClickImageGalleryItem,l=Object(n.useState)(""),i=Object(s.a)(l,2),u=(i[0],i[1],Object(n.useState)(a)),m=Object(s.a)(u,2),g=m[0],h=(m[1],Object(n.useState)("")),f=Object(s.a)(h,2),j=(f[0],f[1],Object(n.useState)(o)),d=Object(s.a)(j,2),O=d[0];return d[1],Object(b.jsx)("img",{src:t,alt:c,className:p.a.ImageGalleryItemImage,onClick:function(e){console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f onImgClickImageGalleryItem. \u041a\u043b\u0438\u043d\u0443\u043b\u0438 \u043d\u0430  Img . ",e),r(g)},id:O})};var I=function(e){var t=e.imagesArray,a=e.onImgClick,o=Object(n.useCallback)((function(e){console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f onImgClickImageGallery \u0447\u0435\u0440\u0435\u0437 \u0445\u0443\u043a useCallback. \u041a\u043b\u0438\u043d\u0443\u043b\u0438 \u043d\u0430  Img   . largeImageURL = ",e),a(e)}),[]);return Object(b.jsx)("ul",{className:d.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL,c=e.tags;return Object(b.jsx)("li",{children:Object(b.jsx)(y,{webformatURL:a,largeImageURL:n,tags:c,id:t,onImgClickImageGalleryItem:o})},t)}))})},S=a(15),v=a.n(S);var _=function(e){var t=e.onLoadMoreBtn,a=Object(n.useCallback)((function(e){console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f handleClickBtn \u0441 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435\u043c \u0445\u0443\u043a\u0430 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 useCallback.  \u041a\u043b\u0438\u043d\u0443\u043b\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0435 \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451 ",e),t(),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[]);return Object(b.jsx)("button",{className:v.a.Button,onClick:a,children:" Load more"})},k=a(10),x=a.n(k),C=document.querySelector("#modal-root");var w=function(e){var t=e.onModalClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",o),console.log(" \u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b useEffect \u043a\u0430\u043a \u0430\u043d\u0430\u043b\u043e\u0433  componentDidMount() - 1 \u0440\u0430\u0437 "),function(){window.removeEventListener("keydown",o),console.log(" \u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b useEffect \u043a\u0430\u043a \u0430\u043d\u0430\u043b\u043e\u0433  componentWillUnmount() ")}}),[]);var o=Object(n.useCallback)((function(e){console.log("event.code = ",e.code),"Escape"===e.code&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 Escape.  \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u0445\u0443\u043a \u0434\u043b\u044f \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 useCallback"),t())}),[]),r=Object(n.useCallback)((function(e){e.target===e.currentTarget&&(console.log("\u041a\u043b\u0438\u043a\u043d\u0443\u043b\u0438 \u0432 \u0431\u0435\u043a\u0434\u0440\u043e\u043f!!! \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u0445\u0443\u043a \u0434\u043b\u044f \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 useCallback"),t())}),[]);return Object(c.createPortal)(Object(b.jsx)("div",{className:x.a.Overlay,onClick:r,children:Object(b.jsx)("div",{className:x.a.Modal,children:a})}),C)},L=a(16),F=a.n(L),B=new m;var G=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),r=Object(s.a)(c,2),i=r[0],u=r[1],m=Object(n.useState)(""),g=Object(s.a)(m,2),h=g[0],j=g[1],d=Object(n.useState)(!1),O=Object(s.a)(d,2),p=O[0],y=O[1],S=Object(n.useState)(!1),v=Object(s.a)(S,2),k=v[0],x=v[1];Object(n.useEffect)((function(){x(!0),setTimeout((function(){B.fetchImages().then((function(e){0!==e.length&&(o(Object(l.a)(e)),console.log(" \u041f\u0435\u0440\u0432\u0430\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0433\u0440\u0443\u0437\u0438\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043f\u0440\u0438\u0440\u043e\u0434\u044b. \u0417\u0430\u043f\u0438\u0441\u0430\u043b\u0438 hits (\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u0430\u0441\u0441\u0438\u0432 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a)  \u0432  \u0445\u0443\u043a \u0447\u0435\u0440\u0435\u0437 setImagesArray",a))})).finally((function(){return x(!1)}))}),1e3)}),[]),Object(n.useEffect)((function(){""!==i?(console.log("quiryWord =",i),B.resetPage(),B.query=i,x(!0),console.log(" \u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f setIsLoading (true)"),setTimeout((function(){B.fetchImages().then((function(e){0!==e.length&&(o(Object(l.a)(e)),console.log(" \u0417\u0430\u043f\u0438\u0441\u0430\u043b\u0438 hits  \u0432   - imagesArray \u0447\u0435\u0440\u0435\u0437 \u0445\u0443\u043a\u0438 (\u0430\u043d\u0430\u043b\u043e\u0433 componentDidUpdate )",a))})).catch((function(){alert("Something wrong. Please try again later")})).finally((function(){x(!1)}))}),1e3)):console.log("quiryWord === \u043f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")}),[i]);var C=function(){y(!p)};return Object(b.jsxs)("div",{children:[Object(b.jsx)(f,{onSubmit:function(e){console.log("\u0412\u044b\u0437\u0432\u0430\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f handleSummitForm = (quiryWord) : ",e),u(e)}}),k&&Object(b.jsx)(F.a,{className:"Loader",type:"Circles",color:"#00BFFF",height:100,width:100}),Object(b.jsx)(I,{imagesArray:a,onImgClick:function(e){j(e),C()}}),!k&&Object(b.jsx)(_,{onLoadMoreBtn:function(){console.log(" \u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f handleLoadMore "),B.incerementPage(),B.fetchImages().then((function(e){0!==e.length&&o((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}}),p&&Object(b.jsx)(w,{onModalClose:C,children:Object(b.jsx)("img",{src:h,alt:"picture"})})]})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,45)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),o(e),c(e),r(e)}))},E=a(17),M=a.n(E);r.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(G,{className:M.a.App})}),document.getElementById("root")),N()}},[[44,1,2]]]);
//# sourceMappingURL=main.2f0cbaab.chunk.js.map