(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__30c9O",Modal:"Modal_Modal__1kvyf"}},12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__Q00hX"}},13:function(e,t,a){e.exports={ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1lSHd"}},14:function(e,t,a){e.exports={Button:"Button_Button__ZPs9J"}},16:function(e,t,a){e.exports={App:"App_App__2ixVL"}},21:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),c=a.n(r),i=(a(21),a(11)),l=a(3),s=a(4),u=a(6),h=a(5),m=function(){function e(){Object(l.a)(this,e),this.searchQuery="nature",this.page=1}return Object(s.a)(e,[{key:"fetchImages",value:function(){return fetch("https://".concat("pixabay.com/api","/?image_type=photo&orientation=horizontal&q=").concat(this.searchQuery,"&page=").concat(this.page,"&per_page=12&key=").concat("23193680-1d95b6a7ab6e160162f942df5"," ")).then((function(e){return e.json()})).then((function(e){return e.hits}))}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"incerementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),e}(),g=a(7),d=a.n(g),y=a(1),p=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={quiryWord:""},e.handleQueryChange=function(t){e.setState({quiryWord:t.currentTarget.value.toLowerCase()}),console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f handleQueryChange ... \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 this.state.quiryWord :",e.state.quiryWord)},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.quiryWord.trim()?(e.props.onSubmit(e.state.quiryWord),e.setState({quiryWord:""})):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e!")},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(y.jsx)("header",{className:d.a.Searchbar,children:Object(y.jsxs)("form",{onSubmit:this.handleSubmit,className:d.a.SearchForm,children:[Object(y.jsx)("button",{type:"submit",className:d.a.SearchFormButton,children:Object(y.jsx)("span",{className:d.a.SearchFormButtonLabel,children:"Search"})}),Object(y.jsx)("input",{className:d.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.quiryWord,onChange:this.handleQueryChange})]})})}}]),a}(n.Component),f=p,b=a(12),j=a.n(b),I=a(13),O=a.n(I),v=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={webformatURL:"",largeImageURL:e.props.largeImageURL,tags:"",id:e.props.id},e.onImgClickImageGalleryItem=function(t){console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f onImgClickImageGalleryItem. \u041a\u043b\u0438\u043d\u0443\u043b\u0438 \u043d\u0430  Img . ",t),e.props.onImgClickImageGalleryItem(e.state.largeImageURL)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.webformatURL,a=e.tags;return Object(y.jsx)("img",{src:t,alt:a,className:O.a.ImageGalleryItemImage,onClick:this.onImgClickImageGalleryItem,id:this.state.id})}}]),a}(n.Component),S=v,k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={imagesArray:[]},e.onImgClickImageGallery=function(t){console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f onImgClickImageGallery. \u041a\u043b\u0438\u043d\u0443\u043b\u0438 \u043d\u0430  Img   . largeImageURL = ",t),e.props.onImgClick(t)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.imagesArray;return Object(y.jsx)("ul",{className:j.a.ImageGallery,children:t.map((function(t){var a=t.id,n=t.webformatURL,o=t.largeImageURL,r=t.tags;return Object(y.jsx)("li",{children:Object(y.jsx)(S,{webformatURL:n,largeImageURL:o,tags:r,id:a,onImgClickImageGalleryItem:e.onImgClickImageGallery})},a)}))})}}]),a}(n.Component),C=k,L=a(14),w=a.n(L),_=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleClickBtn=function(t){console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f handleClickBtn. \u041a\u043b\u0438\u043d\u0443\u043b\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0435 \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451 ",t),e.props.onLoadMoreBtn(),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(y.jsx)("button",{className:w.a.Button,onClick:this.handleClickBtn,children:" Load more"})}}]),a}(n.Component),x=_,A=a(10),M=a.n(A),F=document.querySelector("#modal-root"),B=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleKeyDown=function(t){console.log("event.code = ",t.code),"Escape"===t.code&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 Escape"),e.props.onModalClose())},e.handleOverleyClick=function(t){t.target===t.currentTarget&&(console.log("\u041a\u043b\u0438\u043a\u043d\u0443\u043b\u0438 \u0432 \u0431\u0435\u043a\u0434\u0440\u043e\u043f!!!"),e.props.onModalClose())},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log("  componentDidMount()  "),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(r.createPortal)(Object(y.jsx)("div",{className:M.a.Overlay,onClick:this.handleOverleyClick,children:Object(y.jsx)("div",{className:M.a.Modal,children:this.props.children})}),F)}}]),a}(n.Component),q=B,G=a(15),U=a.n(G),W=new m,R=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={imagesArray:[],quiryWord:"",largeImageURL:"",showModal:!1,isLoading:!1},e.handleSummitForm=function(t){console.log("\u0412\u044b\u0437\u0432\u0430\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f handleSummitForm = (quiryWord) : ",t),e.setState({quiryWord:t})},e.handleLoadMore=function(){console.log(" \u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f handleLoadMore "),W.incerementPage(),W.fetchImages().then((function(t){0!==t.length&&e.setState((function(e){return{imagesArray:[].concat(Object(i.a)(e.imagesArray),Object(i.a)(t))}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))},e.handleOnImgClick=function(t){console.log("\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f handleOnImgClick. \u041a\u043b\u0438\u043d\u0443\u043b\u0438 \u043d\u0430  Img   .   largeImageURL = ",t),e.setState({largeImageURL:t}),e.toggleModal()},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(" App: componentDidMount ()"),this.setState({isLoading:!0}),setTimeout((function(){W.fetchImages().then((function(t){0!==t.length&&(e.setState({imagesArray:t}),console.log(" \u0417\u0430\u043f\u0438\u0441\u0430\u043b\u0438 hits  \u0432  \u0441\u0442\u0435\u0439\u0442 - imagesArray",e.state.imagesArray))})).finally((function(){return e.setState({isLoading:!1})}))}),1e3)}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.quiryWord!==t.quiryWord&&(W.resetPage(),W.query=this.state.quiryWord,this.setState({isLoading:!0}),setTimeout((function(){W.fetchImages().then((function(e){0!==e.length&&(a.setState({imagesArray:e}),console.log(" \u0417\u0430\u043f\u0438\u0441\u0430\u043b\u0438 hits  \u0432  \u0441\u0442\u0435\u0439\u0442 - imagesArray",a.state.imagesArray))})).finally((function(){return a.setState({isLoading:!1})}))}),1e3))}},{key:"render",value:function(){var e=this.state,t=e.imagesArray,a=e.showModal,n=e.largeImageURL,o=e.isLoading;return Object(y.jsxs)("div",{children:[Object(y.jsx)(f,{onSubmit:this.handleSummitForm}),o&&Object(y.jsx)(U.a,{className:"Loader",type:"Circles",color:"#00BFFF",height:100,width:100}),Object(y.jsx)(C,{imagesArray:t,onImgClick:this.handleOnImgClick}),!o&&Object(y.jsx)(x,{onLoadMoreBtn:this.handleLoadMore}),a&&Object(y.jsx)(q,{onModalClose:this.toggleModal,children:Object(y.jsx)("img",{src:n,alt:"picture"})})]})}}]),a}(n.Component),N=R,D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),o(e),r(e),c(e)}))},Q=a(16),T=a.n(Q);c.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(N,{className:T.a.App})}),document.getElementById("root")),D()},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__U53BZ",SearchForm:"Searchbar_SearchForm__1cANf",SearchFormButton:"Searchbar_SearchFormButton__1y0XH",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__G5QW5",SearchFormInput:"Searchbar_SearchFormInput__31wbT"}}},[[43,1,2]]]);
//# sourceMappingURL=main.72477acd.chunk.js.map